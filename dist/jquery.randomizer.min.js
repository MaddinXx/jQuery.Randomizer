(function(e,c,a,f){var d="randomizer";function b(h,g){this.el=h;this.$el=e(h);this.options=e.extend({},e.fn[d].defaults,g);this.init()}b.prototype={init:function(){this.current=null;this.recursionDeep=0;var g=this;e(c).bind("resizeEnd",function(){g._position()});e(c).resize(function(){if(this.resizeTO){clearTimeout(this.resizeTO)}this.resizeTO=setTimeout(function(){e(this).trigger("resizeEnd")},g.options.delay)});g._position()},destroy:function(){this.$el.removeData();e(c).unbind("resizeEnd");var g=this;e.each(g.options.randoms,function(h,i){e(i).css({position:"",top:"",left:"",display:""})})},_getCoordinates:function(i,g){var k=this;var j={w:this.$el.width(),h:this.$el.height()};var h={x:Math.floor(Math.random()*j.w),y:Math.floor(Math.random()*j.h)};if(h.x+i>=j.w){h.x-=i}if(h.y+g>=j.h){h.y-=g}if(k.recursionDeep<k.options.tries&&!k._isIsolated({p1:h,p2:{x:h.x+i,y:h.y+g}})){++k.recursionDeep;h=this._getCoordinates(i,g)}if(k.recursionDeep==k.options.tries){k._onError(k.current)}else{if(k.recursionDeep!==0){--k.recursionDeep}else{k._onSuccess(k.current)}}return h},_isIsolated:function(g){var i=true;var h=this.options.collisions;var j=this;e.each(h,function(m,n){if(j.current!=n){var k=e(n);var o=k.offset();var l={p1:{x:o.left,y:o.top},p2:{x:o.left+k.outerWidth(),y:o.top+k.outerHeight()}};if(g.p1.x<(l.p2.x+j.options.spacing)&&g.p2.x>(l.p1.x-j.options.spacing)&&g.p1.y<(l.p2.y+j.options.spacing)&&g.p2.y>(l.p1.y-j.options.spacing)){i=false;return false}}});return i},_onError:function(g){this.options.onError(g)},_onSuccess:function(g){this.options.onSuccess(g)},_position:function(){var g=this;e.each(g.options.randoms,function(h,j){var i=e(j);g.current=j;i.addClass("js-gets-positioned");var k=g._getCoordinates(i.outerWidth(),i.outerHeight());i.css({position:"absolute",left:k.x,top:k.y});i.removeClass("js-gets-positioned");g.current=null})}};e.fn[d]=function(i){var h=arguments;if(i===f||typeof i==="object"){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,i))}})}else{if(typeof i==="string"&&i[0]!=="_"&&i!=="init"){if(Array.prototype.slice.call(h,1).length==0&&e.inArray(i,e.fn[d].getters)!==-1){var g=e.data(this[0],"plugin_"+d);return g[i].apply(g,Array.prototype.slice.call(h,1))}else{return this.each(function(){var j=e.data(this,"plugin_"+d);if(j instanceof b&&typeof j[i]==="function"){j[i].apply(j,Array.prototype.slice.call(h,1))}})}}}};e.fn[d].defaults={randoms:[],collisions:[],spacing:75,tries:25,delay:500,onError:function(g){e(g).hide()},onSuccess:function(g){}}})(jQuery,window,document);